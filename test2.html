<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog Publicatie Website</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #b0c4de; /* Blauwgrijze achtergrondkleur */
        }
        header {
            background-color: #333;
            color: #fff;
            padding: 10px 20px;
            text-align: center;
        }
        main {
            max-width: 800px;
            margin: 20px auto;
            background: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h2 {
            margin-top: 0;
        }
        form {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input[type="text"], input[type="password"], textarea, select {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }
        input[type="submit"] {
            background-color: #333;
            color: #fff;
            padding: 10px 20px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
        .blog-post {
            margin-bottom: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border-left: 5px solid #333;
            border-radius: 3px;
        }
        .blog-post h3 {
            margin-top: 0;
        }
        .blog-post .category {
            font-style: italic;
            color: #555;
            margin-bottom: 10px;
        }
        .category-section {
            margin-top: 40px;
        }
        .category-section h3 {
            display: flex;
            align-items: center;
        }
        .category-section h3 span {
            margin-left: 10px;
        }
        .comments {
            margin-top: 20px;
            padding-top: 10px;
            border-top: 1px solid #ccc;
        }
        .comments h4 {
            margin-bottom: 10px;
        }
        .comment {
            margin-bottom: 10px;
            padding: 10px;
            background-color: #e9e9e9;
            border-radius: 3px;
        }
        .comment-form {
            margin-top: 10px;
        }
        .search-bar {
            margin-bottom: 20px;
        }
        .hidden {
            display: none;
        }
        .toggle-btn {
            margin-bottom: 20px;
            padding: 10px;
            background-color: #333;
            color: #fff;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <header>
        <h1>Welkom op de Blog Publicatie Website</h1>
    </header>
    <main>
        <h2 id="welcome-message">Log in om door te gaan</h2>

        <!-- Inlogformulier -->
        <form id="login-form">
            <h3>Inloggen</h3>
            <label for="username">Gebruikersnaam:</label>
            <input type="text" id="login-username" name="username" required>

            <label for="password">Wachtwoord:</label>
            <input type="password" id="login-password" name="password" required>

            <input type="submit" value="Inloggen">
        </form>

        <!-- Registratieformulier -->
        <form id="register-form">
            <h3>Account Aanmaken</h3>
            <label for="username">Gebruikersnaam:</label>
            <input type="text" id="register-username" name="username" required>

            <label for="password">Wachtwoord:</label>
            <input type="password" id="register-password" name="password" required>

            <input type="submit" value="Registreren">
        </form>

        <!-- Blog Publicatie Formulier -->
        <div id="blog-section" class="hidden">
            <h2>Plaats een nieuwe blog</h2>
            <form id="blog-form">
                <label for="title">Titel:</label>
                <input type="text" id="title" name="title" required>

                <label for="category">Categorie:</label>
                <select id="category" name="category" required>
                    <option value="Technologie">Technologie</option>
                    <option value="Reizen">Reizen</option>
                    <option value="Eten">Eten</option>
                    <option value="Lifestyle">Lifestyle</option>
                    <option value="Gezondheid">Gezondheid</option>
                    <option value="Sport">Sport</option>
                    <option value="Financiën">Financiën</option>
                    <option value="Muziek">Muziek</option>
                    <option value="Boeken">Boeken</option>
                    <option value="Film">Film</option>
                    <option value="Kunst">Kunst</option>
                    <option value="Fotografie">Fotografie</option>
                    <option value="Educatie">Educatie</option>
                    <option value="Gaming">Gaming</option>
                    <option value="Milieu">Milieu</option>
                    <option value="Politiek">Politiek</option>
                    <option value="Wetenschap">Wetenschap</option>
                    <option value="Mode">Mode</option>
                    <option value="Technische Innovaties">Technische Innovaties</option>
                    <option value="Koken">Koken</option>
                    <option value="Recht">Recht</option>
                    <option value="Relaties">Relaties</option>
                    <option value="Familie">Familie</option>
                    <option value="Dieren">Dieren</option>
                    <option value="Reclame">Reclame</option>
                    <option value="Vervoer">Vervoer</option>
                    <option value="Cultuur">Cultuur</option>
                    <option value="Geschiedenis">Geschiedenis</option>
                    <option value="Religie">Religie</option>
                </select>

                <label for="content">Inhoud:</label>
                <textarea id="content" name="content" rows="6" required></textarea>

                <input type="submit" value="Publiceer Blog">
            </form>

            <button class="toggle-btn" id="toggle-view-btn">Toon alleen mijn blogs</button>

            <h2>Gepubliceerde Blogs</h2>
            <div id="all-blogs"></div>
        </div>
    </main>

    <script>
        // Inloggen en registreren
        const users = JSON.parse(localStorage.getItem('users')) || {};
        let currentUser = null;
        let showOwnBlogs = false; // Variabele om de huidige weergave bij te houden

        document.getElementById('register-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const username = document.getElementById('register-username').value;
            const password = document.getElementById('register-password').value;

            if (users[username]) {
                alert('Gebruikersnaam bestaat al.');
            } else {
                users[username] = { password: password, blogs: [] };
                localStorage.setItem('users', JSON.stringify(users));
                alert('Account aangemaakt. Log nu in.');
            }
        });

        document.getElementById('login-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const username = document.getElementById('login-username').value;
            const password = document.getElementById('login-password').value;

            if (users[username] && users[username].password === password) {
                currentUser = username;
                document.getElementById('welcome-message').textContent = 'Welkom, ' + username;
                document.getElementById('login-form').classList.add('hidden');
                document.getElementById('register-form').classList.add('hidden');
                document.getElementById('blog-section').classList.remove('hidden');
                displayBlogs(); // Toon blogs na inloggen
            } else {
                alert('Ongeldige inloggegevens.');
            }
        });

        // Blog publicatie
        document.getElementById('blog-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const title = document.getElementById('title').value;
            const category = document.getElementById('category').value;
            const content = document.getElementById('content').value;

            const blog = { title: title, category: category, content: content, author: currentUser };
            users[currentUser].blogs.push(blog);
            localStorage.setItem('users', JSON.stringify(users));

            displayBlogs(); // Update de blogweergave na publicatie
            document.getElementById('blog-form').reset();
        });

        // Schakel tussen alle blogs en eigen blogs
        document.getElementById('toggle-view-btn').addEventListener('click', function() {
            showOwnBlogs = !showOwnBlogs;
            displayBlogs();
            document.getElementById('toggle-view-btn').textContent = showOwnBlogs ? 'Toon alle blogs' : 'Toon alleen mijn blogs';
        });

        // Toon blogs op basis van de huidige weergave
        function displayBlogs() {
            const blogSection = document.getElementById('all-blogs');
            blogSection.innerHTML = '';

            let blogsToDisplay;
            if (showOwnBlogs) {
                blogsToDisplay = users[currentUser].blogs;
            } else {
                blogsToDisplay = [];
                for (const user in users) {
                    blogsToDisplay.push(...users[user].blogs);
                }
            }

            // Sorteer de blogs op categorie
            blogsToDisplay.sort((a, b) => a.category.localeCompare(b.category));

            // Groepeer en toon de blogs per categorie
            let currentCategory = '';
            blogsToDisplay.forEach(blog => {
                if (blog.category !== currentCategory) {
                    currentCategory = blog.category;
                    const categoryHeader = document.createElement('h3');
                    categoryHeader.textContent = currentCategory;
                    blogSection.appendChild(categoryHeader);
                }

                const blogPost = document.createElement('div');
                blogPost.className = 'blog-post';

                const blogTitle = document.createElement('h3');
                blogTitle.textContent = blog.title;
                blogPost.appendChild(blogTitle);

                const blogCategory = document.createElement('p');
                blogCategory.className = 'category';
                blogCategory.textContent = 'Categorie: ' + blog.category;
                blogPost.appendChild(blogCategory);

                const blogContent = document.createElement('p');
                blogContent.textContent = blog.content;
                blogPost.appendChild(blogContent);

                const blogAuthor = document.createElement('p');
                blogAuthor.style.fontStyle = 'italic';
                blogAuthor.style.color = '#555';
                blogAuthor.textContent = 'Auteur: ' + blog.author;
                blogPost.appendChild(blogAuthor);

                blogSection.appendChild(blogPost);
            });
        }
    </script>
</body>
</html>

